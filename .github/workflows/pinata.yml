name: Pin to IPFS

on:
  push:
    branches: [main]
  pull_request:

jobs: 
  pin:
    runs-on: ubuntu-latest
    name: Pin with Pinata
    steps:
      - name: Pin
        id: pin
        uses: aquiladev/ipfs-action@master
        with:
          path: ./src/settings.json
          service: pinata
          pinataKey: ${{ secrets.API_KEY }}
          pinataSecret: ${{ secrets.API_SECRET }}
      - name: Get the hash
        run: echo "settings.json pinned to ${{ steps.pin.outputs.ipfs }}"